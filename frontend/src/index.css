@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');

@layer base {
  :root {
    /* 主题颜色变量 */
    --color-primary: #3B82F6;
    --color-secondary: #6B7280;
    --color-success: #10B981;
    --color-danger: #EF4444;
    --color-warning: #F59E0B;
    --color-info: #3B82F6;
    --color-background: #0F172A;
    --color-surface: #1E293B;
    --color-text: #F8FAFC;

    /* 渐变色 */
    --primary-gradient: linear-gradient(135deg, var(--color-primary) 0%, #764ba2 100%);
    --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --tech-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --dark-gradient: linear-gradient(135deg, var(--color-surface) 0%, var(--color-background) 100%);

    /* 阴影效果 */
    --glow-blue: 0 0 20px rgba(59, 130, 246, 0.5);
    --glow-green: 0 0 20px rgba(34, 197, 94, 0.5);
    --glow-red: 0 0 20px rgba(239, 68, 68, 0.5);
    --glow-purple: 0 0 20px rgba(147, 51, 234, 0.5);
  }

  /* 高对比度主题 */
  :root[data-theme="high-contrast"] {
    --color-primary: #0066CC;
    --color-secondary: #595959;
    --color-success: #008000;
    --color-danger: #CC0000;
    --color-warning: #CC6600;
    --color-info: #0066CC;
    --color-background: #000000;
    --color-surface: #1A1A1A;
    --color-text: #FFFFFF;
  }

  /* 亮色主题 */
  :root[data-theme="light"] {
    --color-primary: #2563EB;
    --color-secondary: #4B5563;
    --color-success: #059669;
    --color-danger: #DC2626;
    --color-warning: #D97706;
    --color-info: #2563EB;
    --color-background: #F8FAFC;
    --color-surface: #F1F5F9;
    --color-text: #0F172A;
  }

  * {
    /* 移除全局默认边框 */
    border-width: 0 !important;
    border-style: none !important;
    outline: none !important;
  }

  body {
    @apply font-sans;
    background: var(--color-background);
    color: var(--color-text);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  /* 自定义滚动条 */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--color-surface);
  }

  ::-webkit-scrollbar-thumb {
    background: color-mix(in srgb, var(--color-text) 30%, transparent);
    border-radius: 9999px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: color-mix(in srgb, var(--color-text) 40%, transparent);
  }
}

@layer components {
  /* 现代化卡片组件 */
  .tech-card {
    @apply backdrop-blur-sm shadow-2xl;
    background: color-mix(in srgb, var(--color-surface) 50%, transparent);
    border: 1px solid color-mix(in srgb, var(--color-text) 15%, transparent);
  }

  .tech-card-hover {
    @apply transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl;
    box-shadow: 0 0 30px color-mix(in srgb, var(--color-primary) 10%, transparent);
  }

  .tech-card-hover:hover {
    box-shadow: 0 0 40px color-mix(in srgb, var(--color-primary) 20%, transparent);
    border-color: color-mix(in srgb, var(--color-primary) 30%, transparent);
  }

  /* 按钮组件 */
  .btn-primary {
    @apply text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 
           shadow-lg hover:shadow-xl hover:scale-105;
    background: linear-gradient(135deg, var(--color-primary) 0%, color-mix(in srgb, var(--color-primary) 80%, var(--color-info)) 100%);
    box-shadow: 0 4px 15px color-mix(in srgb, var(--color-primary) 30%, transparent);
  }

  .btn-secondary {
    @apply font-medium py-3 px-6 rounded-lg transition-all duration-300 backdrop-blur-sm;
    background: color-mix(in srgb, var(--color-surface) 50%, transparent);
    border: 1px solid color-mix(in srgb, var(--color-text) 15%, transparent);
    color: var(--color-text);
  }

  .btn-danger {
    @apply text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 
           shadow-lg hover:shadow-xl hover:scale-105;
    background: linear-gradient(135deg, var(--color-danger) 0%, color-mix(in srgb, var(--color-danger) 80%, #f5576c) 100%);
    box-shadow: 0 4px 15px color-mix(in srgb, var(--color-danger) 30%, transparent);
  }

  .btn-success {
    @apply text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 
           shadow-lg hover:shadow-xl hover:scale-105;
    background: linear-gradient(135deg, var(--color-success) 0%, color-mix(in srgb, var(--color-success) 80%, #10B981) 100%);
    box-shadow: 0 4px 15px color-mix(in srgb, var(--color-success) 30%, transparent);
  }

  /* 状态指示器 */
  .status-indicator {
    @apply inline-block w-3 h-3 rounded-full mr-2 relative;
  }

  .status-online {
    background: var(--color-success);
    box-shadow: var(--glow-green);
    animation: pulse-green 2s infinite;
  }

  .status-offline {
    background: var(--color-danger);
    box-shadow: var(--glow-red);
  }

  .status-warning {
    background: var(--color-warning);
    box-shadow: 0 0 20px color-mix(in srgb, var(--color-warning) 50%, transparent);
    animation: pulse-yellow 2s infinite;
  }

  .status-maintenance {
    background: var(--color-info);
    box-shadow: var(--glow-purple);
    animation: pulse-purple 2s infinite;
  }

  /* 输入框 */
  .tech-input {
    @apply rounded-lg px-4 py-3 transition-all duration-300 backdrop-blur-sm;
    background: color-mix(in srgb, var(--color-surface) 50%, transparent);
    color: var(--color-text);
    border: 1px solid color-mix(in srgb, var(--color-text) 15%, transparent);
  }

  .tech-input:focus {
    box-shadow: 0 0 20px color-mix(in srgb, var(--color-primary) 20%, transparent);
    border-color: color-mix(in srgb, var(--color-primary) 30%, transparent);
  }

  /* 标签页 */
  .tech-tab {
    @apply px-4 py-3 text-sm font-medium rounded-lg transition-all duration-300 
           border-none backdrop-blur-sm;
  }

  .tech-tab-active {
    background: color-mix(in srgb, var(--color-primary) 20%, transparent);
    color: var(--color-primary);
    border: 1px solid color-mix(in srgb, var(--color-primary) 30%, transparent);
    box-shadow: 0 0 20px color-mix(in srgb, var(--color-primary) 20%, transparent);
  }

  .tech-tab-inactive {
    color: color-mix(in srgb, var(--color-text) 40%, transparent);
  }

  .tech-tab-inactive:hover {
    color: var(--color-text);
    background: color-mix(in srgb, var(--color-surface) 50%, transparent);
  }

  /* 数据面板 */
  .data-panel {
    @apply tech-card p-6 relative overflow-hidden;
    border: 1px solid color-mix(in srgb, var(--color-text) 10%, transparent);
  }

  .data-panel::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-300;
    background: linear-gradient(135deg,
      color-mix(in srgb, var(--color-primary) 10%, transparent) 0%,
      color-mix(in srgb, var(--color-info) 10%, transparent) 100%
    );
  }

  .data-panel:hover::before {
    @apply opacity-100;
  }

  /* 3D容器 */
  .view-3d-container {
    @apply tech-card p-4 relative overflow-hidden;
    background: linear-gradient(135deg,
      color-mix(in srgb, var(--color-background) 90%, transparent) 0%,
      color-mix(in srgb, var(--color-surface) 90%, transparent) 100%
    );
    border: 1px solid color-mix(in srgb, var(--color-primary) 10%, transparent);
  }

  /* 动画 */
  @keyframes pulse-green {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  @keyframes pulse-yellow {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  @keyframes pulse-purple {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  @keyframes glow {
    0%, 100% { box-shadow: 0 0 20px color-mix(in srgb, var(--color-primary) 30%, transparent); }
    50% { box-shadow: 0 0 30px color-mix(in srgb, var(--color-primary) 60%, transparent); }
  }

  .float-animation {
    animation: float 6s ease-in-out infinite;
  }

  .glow-animation {
    animation: glow 3s ease-in-out infinite;
  }

  /* 网格背景 */
  .grid-bg {
    background-image: 
      linear-gradient(color-mix(in srgb, var(--color-primary) 10%, transparent) 1px, transparent 1px),
      linear-gradient(90deg, color-mix(in srgb, var(--color-primary) 10%, transparent) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  /* 辅助类 */
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
    clip-path: inset(50%);
  }
} 