# Industrial Control System Demo

## ğŸ­ GoldSky Technologies - å·¥ä¸šæ§åˆ¶ç³»ç»Ÿæ¼”ç¤ºé¡¹ç›®

### é¡¹ç›®æ¦‚è¿°
è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„å·¥ä¸šæ§åˆ¶ç³»ç»Ÿæ¼”ç¤ºé¡¹ç›®ï¼Œå±•ç¤ºäº†ç°ä»£å·¥ä¸šè‡ªåŠ¨åŒ–çš„æ ¸å¿ƒæŠ€æœ¯å’Œæœ€ä½³å®è·µã€‚é¡¹ç›®é›†æˆäº†TwinCAT ADSé€šä¿¡ã€OPC UAåè®®ã€å®æ—¶æ•°æ®ç›‘æ§å’Œç°ä»£åŒ–çš„Web HMIç•Œé¢ã€‚

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React HMI     â”‚    â”‚   Node.js       â”‚    â”‚   TwinCAT PLC   â”‚
â”‚   (Frontend)    â”‚â—„â”€â”€â–ºâ”‚   (Backend)     â”‚â—„â”€â”€â–ºâ”‚   (Controller)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   OPC UA Server â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React 18 + Vite + TypeScript + Tailwind CSS
- **åç«¯**: Node.js + Express + Socket.IO
- **é€šä¿¡**: ADS (Beckhoff TwinCAT) + OPC UA
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **ç›‘æ§**: InfluxDB + Grafana (å¯é€‰)
- **æµç¨‹æ§åˆ¶**: Node-RED (å¯é€‰)

### ğŸ“ é¡¹ç›®ç»“æ„

```
industrial-control-demo/
â”œâ”€â”€ frontend/                 # React HMI å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ types/          # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ backend/                  # Node.js åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ services/       # æœåŠ¡å±‚ (ADS, OPC UA)
â”‚   â”‚   â”œâ”€â”€ controllers/    # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ socket/         # Socket.IOå¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml       # Dockerç¼–æ’é…ç½®
â”œâ”€â”€ scripts/                 # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ README.md
```

### ğŸš€ å¿«é€Ÿå¼€å§‹

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd industrial-control-demo
```

#### 2. é…ç½®ç¯å¢ƒ
```bash
cp backend/env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ‚¨çš„ç¯å¢ƒ
```

#### 3. å¯åŠ¨ç³»ç»Ÿ
```bash
chmod +x scripts/start.sh
./scripts/start.sh
```

#### 4. è®¿é—®ç•Œé¢
- **HMIç•Œé¢**: http://localhost:3000
- **åç«¯API**: http://localhost:3001
- **å¥åº·æ£€æŸ¥**: http://localhost:3001/api/health

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

#### è¿åŠ¨è½´æ§åˆ¶
- **å®æ—¶ç›‘æ§**: ä½ç½®ã€é€Ÿåº¦ã€çŠ¶æ€ç­‰å‚æ•°
- **è½´æ§åˆ¶**: ä½¿èƒ½/å¤±èƒ½ã€å›é›¶ã€ç§»åŠ¨ã€ç‚¹åŠ¨
- **çŠ¶æ€æ˜¾ç¤º**: ç©ºé—²ã€è¿åŠ¨ä¸­ã€é”™è¯¯ã€å›é›¶ä¸­
- **é”™è¯¯å¤„ç†**: é”™è¯¯ä»£ç å’Œé”™è¯¯ä¿¡æ¯æ˜¾ç¤º

#### é€šä¿¡åè®®
- **ADSé€šä¿¡**: ä¸Beckhoff TwinCATç³»ç»Ÿé€šä¿¡
- **OPC UA**: å·¥ä¸šæ ‡å‡†OPC UAåè®®æ”¯æŒ
- **å®æ—¶æ•°æ®**: WebSocketå®æ—¶æ•°æ®æ¨é€
- **å®¹é”™æœºåˆ¶**: å¤šåè®®å¤‡ä»½å’Œæ¨¡æ‹Ÿæ¨¡å¼

#### ç”¨æˆ·ç•Œé¢
- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **å®æ—¶æ›´æ–°**: 100msæ•°æ®åˆ·æ–°é¢‘ç‡
- **çŠ¶æ€æŒ‡ç¤º**: ç›´è§‚çš„è¿æ¥çŠ¶æ€å’Œè½´çŠ¶æ€
- **æ“ä½œæ§åˆ¶**: ç›´è§‚çš„æŒ‰é’®å’Œè¾“å…¥æ§ä»¶

### ğŸ”§ å¼€å‘æŒ‡å—

#### å‰ç«¯å¼€å‘
```bash
cd frontend
npm install
npm run dev
```

#### åç«¯å¼€å‘
```bash
cd backend
npm install
npm run dev
```

#### æ·»åŠ æ–°è½´
1. åœ¨ `backend/src/controllers/axis-controller.js` ä¸­æ·»åŠ è½´é…ç½®
2. åœ¨ `backend/src/services/ads-client.js` ä¸­æ·»åŠ ADSå˜é‡æ˜ å°„
3. åœ¨å‰ç«¯ç»„ä»¶ä¸­æ›´æ–°è½´æ˜¾ç¤º

#### è‡ªå®šä¹‰UIç»„ä»¶
1. åœ¨ `frontend/src/components/` ä¸­åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `frontend/src/types/` ä¸­å®šä¹‰ç›¸å…³ç±»å‹
3. åœ¨ä¸»åº”ç”¨ä¸­é›†æˆç»„ä»¶

### ğŸ“Š ç›‘æ§å’Œæ‰©å±•

#### å¯ç”¨ç›‘æ§ç³»ç»Ÿ
```bash
docker-compose --profile monitoring up -d
```
- **Grafana**: http://localhost:3002 (admin/admin)
- **InfluxDB**: http://localhost:8086

#### å¯ç”¨Node-RED
```bash
docker-compose --profile nodered up -d
```
- **Node-RED**: http://localhost:1880

#### å¯ç”¨OPC UAæœåŠ¡å™¨
```bash
docker-compose --profile opcua up -d
```

### ğŸ”’ å®‰å…¨ç‰¹æ€§

- **CORSé…ç½®**: è·¨åŸŸè¯·æ±‚å®‰å…¨æ§åˆ¶
- **è¾“å…¥éªŒè¯**: æ‰€æœ‰ç”¨æˆ·è¾“å…¥éªŒè¯
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶
- **æ—¥å¿—è®°å½•**: è¯¦ç»†çš„æ“ä½œæ—¥å¿—
- **ç¯å¢ƒéš”ç¦»**: Dockerå®¹å™¨åŒ–éƒ¨ç½²

### ğŸ“ˆ æ€§èƒ½ç‰¹æ€§

- **å®æ—¶é€šä¿¡**: WebSocketå®æ—¶æ•°æ®æ¨é€
- **é«˜æ•ˆæ¸²æŸ“**: React 18å¹¶å‘ç‰¹æ€§
- **ç¼“å­˜ä¼˜åŒ–**: é™æ€èµ„æºç¼“å­˜ç­–ç•¥
- **è´Ÿè½½å‡è¡¡**: æ”¯æŒå¤šå®ä¾‹éƒ¨ç½²
- **ç›‘æ§æŒ‡æ ‡**: ç³»ç»Ÿæ€§èƒ½ç›‘æ§

### ğŸ› ï¸ éƒ¨ç½²é€‰é¡¹

#### å¼€å‘ç¯å¢ƒ
```bash
./scripts/start.sh
```

#### ç”Ÿäº§ç¯å¢ƒ
```bash
# è®¾ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡
export NODE_ENV=production

# å¯åŠ¨æœåŠ¡
docker-compose -f docker-compose.prod.yml up -d
```

#### é«˜å¯ç”¨éƒ¨ç½²
- **Docker Swarm**: æ”¯æŒé›†ç¾¤éƒ¨ç½²
- **Kubernetes**: æ”¯æŒK8séƒ¨ç½²
- **è´Ÿè½½å‡è¡¡**: æ”¯æŒå¤šå®ä¾‹è´Ÿè½½å‡è¡¡

### ğŸ“š æ–‡æ¡£

- [å¼€å‘æŒ‡å—](docs/development.md) - è¯¦ç»†çš„å¼€å‘æ–‡æ¡£
- [éƒ¨ç½²æŒ‡å—](docs/deployment.md) - éƒ¨ç½²å’Œè¿ç»´æ–‡æ¡£
- [APIæ–‡æ¡£](docs/api.md) - APIæ¥å£æ–‡æ¡£

### ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

### ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

### ğŸ“ è”ç³»ä¿¡æ¯

**GoldSky Technologies**  
ğŸ“ åŠ æ‹¿å¤§æ¸¥å¤ªå  
ğŸ“§ contact@goldskytech.com  
ğŸŒ www.goldskytech.com

### ğŸ™ è‡´è°¢

- Beckhoff Automation GmbH - TwinCATæŠ€æœ¯
- OPC Foundation - OPC UAæ ‡å‡†
- React Team - å‰ç«¯æ¡†æ¶
- Node.js Community - åç«¯è¿è¡Œæ—¶

---

*æ­¤é¡¹ç›®ä¸ºå·¥ä¸šæ§åˆ¶ç³»ç»Ÿæ¼”ç¤ºå’Œæ¨¡æ¿é¡¹ç›®ï¼Œå¯ç”¨äºå­¦ä¹ å’ŒäºŒæ¬¡å¼€å‘* 

# [2025-07-17] é¡¹ç›®é—®é¢˜ä¿®å¤ä¸æ”¹è¿›è®°å½•

## å·²ä¿®å¤é—®é¢˜
- ä¿®å¤äº†Dockeråç«¯å®¹å™¨ä¾èµ–å®‰è£…é—®é¢˜ï¼Œç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½èƒ½æ­£ç¡®å®‰è£…ã€‚
- ä¼˜åŒ–äº†Windowsä¸‹çš„å¯åŠ¨è„šæœ¬ï¼Œæå‡ä¸€é”®å¯åŠ¨ä½“éªŒã€‚
- è¡¥å……äº†ç¼ºå¤±çš„é™æ€èµ„æº clipboard_error.svgï¼Œè§£å†³å‰ç«¯404ã€‚
- å¥åº·æ£€æŸ¥æ¥å£å¢åŠ äº†æ•°æ®åº“ã€WebSocketç­‰ä¾èµ–æœåŠ¡çš„çŠ¶æ€æ£€æµ‹ã€‚
- ä¿®å¤äº†å‰ç«¯æ§åˆ¶å°è­¦å‘Šï¼ˆå¦‚é‡å¤IDã€èµ„æº404ï¼‰ã€‚

## å»ºè®®ä¸åç»­æ”¹è¿›
- æŒç»­å®Œå–„æ–‡æ¡£å’Œæ³¨é‡Šã€‚
- åŠ å¼ºæ—¥å¿—å’Œç›‘æ§ã€‚
- ä¼˜åŒ–å‰åç«¯æ•°æ®æµå’Œé«˜çº§åŠŸèƒ½ã€‚

--- 